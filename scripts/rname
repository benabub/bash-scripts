#!/bin/bash

# rename all tree (regular files & directories): lowercase + whitespaces -> '-'
# no options and arg

#######################

# first task: rename all subdirs in right order (from depth to cwd)
# either it will cause "dir not exist" errors

DIRS_ALL="$(find . -depth -wholename "./*" -type d | xargs -d \n)"

set -f
IFS=$'\n'

DIRS=($DIRS_ALL) # make array of all subdirs related paths

for i in ${DIRS[*]}
do
    echo "${i}"
    echo "---"
done

set +f
unset IFS

#######################
# Scratches
#######################

# find . -depth -wholename "./*" -type d | rename 's/ /_/g;y/A-Z/a-z/'

# find . -execdir -name "* *" -type d | rename 's/ /_/g;y/A-Z/a-z/'
# find . -name "* *" -type f | rename 's/ /_/g;y/A-Z/a-z/'

#######################

check_empty_folder()
{
	for i in *; do
		echo $i
	done
}

# check_empty_folder $1

#######################

func()
{
for i in *; do
	if [ -d "${i}" ]; then
		for j in "${i}"/*; do 
			if [ -d "${j}" ]; then
				cd "${i}"
				func
			fi
		done
		rename 's/ /_/g;y/A-Z/a-z/' "${i}"
	fi
done
}

# func

#######################

